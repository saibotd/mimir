{% extends "base.html" %}
{% block title %}{{ title }}{% endblock %}
{% block content %}

<div class="pure-g">
	<div class="pure-u-1">
		<table class="pure-table">
			<thead>
				<tr>
					<th width="1" align="center">
						✓
					</th>
					<th>Task</th>
				</tr>
			</thead>
			<tbody>
				{% for task in tasks %}
				<tr>
					<td>
						{% if task.done %}
						<button class="pure-button" disabled>
							✓
						</button>
						{% else %}
						<a class="pure-button"{% if task.done %} disabled{% else %} href="/tasks/{{ filename }}/{{ task.id }}/complete"{% endif %}>
							✓
						</a>
						{% endif %}
					</td>
					<td{% if task.done %} class="muted"{% endif %}>
					{{ task.task }}
				</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
</div>
<div class="pure-g">
<div class="pure-u-1">
	<form class="pure-form" method="post">
		<p>
			<label>New Task(s)</label>
		</p>
		<textarea
		class="pure-input-1"
		name="tasks"
		placeholder="Each row equals one task"
		{% if tasks %}value="{{ tasks }}"{% endif %}
		rows="5"></textarea>
		<p>
			<input type="submit" value="Add tasks" class="pure-button pure-button-primary">
		</p>
	</form>
</div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="/static/js/jquery.autosize-min.js"></script>
<script>
$('textarea').autosize();
</script>
{% endblock %}